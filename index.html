<script>
  const noBtn = document.getElementById("noBtn");
  const yesBtn = document.getElementById("yesBtn");
  const arena = document.getElementById("arena");

  function moveAway(event) {
    const arenaRect = arena.getBoundingClientRect();
    const noRect = noBtn.getBoundingClientRect();
    const yesRect = yesBtn.getBoundingClientRect();

    const touchX = event.touches ? event.touches[0].clientX : event.clientX;
    const touchY = event.touches ? event.touches[0].clientY : event.clientY;

    let dx = (noRect.left + noRect.width / 2) - touchX;
    let dy = (noRect.top + noRect.height / 2) - touchY;

    const mag = Math.sqrt(dx * dx + dy * dy) || 1;
    dx = (dx / mag) * 40;
    dy = (dy / mag) * 25;

    let newX = noBtn.offsetLeft + dx;
    let newY = noBtn.offsetTop + dy;

    const maxX = arena.clientWidth - noBtn.offsetWidth;
    const maxY = arena.clientHeight - noBtn.offsetHeight;

    // Keep inside arena
    newX = Math.min(Math.max(0, newX), maxX);
    newY = Math.min(Math.max(0, newY), maxY);

    // ðŸš« SAFE ZONE around YES button
    const buffer = 20;
    const yesZone = {
      left: yesBtn.offsetLeft - buffer,
      right: yesBtn.offsetLeft + yesBtn.offsetWidth + buffer,
      top: yesBtn.offsetTop - buffer,
      bottom: yesBtn.offsetTop + yesBtn.offsetHeight + buffer
    };

    // If No enters Yes zone, push it away
    if (
      newX < yesZone.right &&
      newX + noBtn.offsetWidth > yesZone.left &&
      newY < yesZone.bottom &&
      newY + noBtn.offsetHeight > yesZone.top
    ) {
      newX = Math.random() < 0.5 ? 0 : maxX;
      newY = Math.random() < 0.5 ? 0 : maxY;
    }

    noBtn.style.left = newX + "px";
    noBtn.style.top = newY + "px";
  }

  noBtn.addEventListener("mouseover", moveAway);
  noBtn.addEventListener("touchstart", moveAway);
</script>
